<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>readme</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="README_files/libs/clipboard/clipboard.min.js"></script>
<script src="README_files/libs/quarto-html/quarto.js"></script>
<script src="README_files/libs/quarto-html/popper.min.js"></script>
<script src="README_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="README_files/libs/quarto-html/anchor.min.js"></script>
<link href="README_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="README_files/libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="README_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="README_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="README_files/libs/bootstrap/bootstrap-973236bd072d72a04ee9cd82dcc9cb29.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<section id="analysis-of-hospital-mortality-with-clinical-data" class="level1">
<h1>Analysis of Hospital Mortality with Clinical Data</h1>
<section id="description" class="level2">
<h2 class="anchored" data-anchor-id="description">Description</h2>
<p>This project analyzes hospital patient data to explore clinical patterns associated with mortality using R. The data were obtained from PhysioNet’s public MIMIC-IV Clinical Database Demo [1].</p>
<p>This pipeline includes the following stages:</p>
<p>- <strong>Preprocessing</strong> data: cleaning, creating derived variables ,and including them in the patients’ file (patients_mod1).</p>
<p>- <strong>Exploratory data analysis (EDA)</strong>: Visualization with ggplot to study the relationship among variables (categorical/continuous) and mortality.</p>
<p>- <strong>Non-supervised analysis</strong>: Performing clustering analysis (k-means and hierarchical with Gower distance) to explore clinical patterns related with mortality.</p>
</section>
<section id="preprocessing" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing">Preprocessing</h2>
<p>Load packages</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Import R files</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>admissions <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/admissions.csv"</span>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">subject_id =</span> <span class="fu">as.character</span>(subject_id))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>patients <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/patients.csv"</span>) <span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">subject_id =</span> <span class="fu">as.character</span>(subject_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Calculate the number of admissions</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>unique_admissions <span class="ot">&lt;-</span> <span class="fu">count</span>(admissions, subject_id)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>patients_mod1 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(patients, unique_admissions, <span class="at">by =</span> <span class="st">"subject_id"</span>) <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">number_admissions =</span> n) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(patients_mod1, <span class="at">n =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="caption-top table">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">subject_id</th>
<th style="text-align: left;">gender</th>
<th style="text-align: right;">anchor_age</th>
<th style="text-align: right;">anchor_year</th>
<th style="text-align: left;">anchor_year_group</th>
<th style="text-align: left;">dod</th>
<th style="text-align: right;">number_admissions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">10014729</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">2125</td>
<td style="text-align: left;">2011 - 2013</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">10003400</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">2134</td>
<td style="text-align: left;">2011 - 2013</td>
<td style="text-align: left;">2137-09-02</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10002428</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">2155</td>
<td style="text-align: left;">2011 - 2013</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: left;">10032725</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">2143</td>
<td style="text-align: left;">2011 - 2013</td>
<td style="text-align: left;">2143-03-30</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10027445</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">2142</td>
<td style="text-align: left;">2011 - 2013</td>
<td style="text-align: left;">2146-02-09</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">10037928</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">2175</td>
<td style="text-align: left;">2011 - 2013</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10001725</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">46</td>
<td style="text-align: right;">2110</td>
<td style="text-align: left;">2011 - 2013</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">10040025</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">2143</td>
<td style="text-align: left;">2011 - 2013</td>
<td style="text-align: left;">2148-02-07</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10008454</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">2110</td>
<td style="text-align: left;">2011 - 2013</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">10020640</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">91</td>
<td style="text-align: right;">2153</td>
<td style="text-align: left;">2011 - 2013</td>
<td style="text-align: left;">2154-02-04</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
<p>Promedio del tiempo de permanencia y tiempo total de permanencia por paciente (cálculo en horas)</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>admissions_mod <span class="ot">&lt;-</span> <span class="fu">mutate</span>(admissions, <span class="at">length_of_stay =</span> dischtime <span class="sc">-</span>  admittime, <span class="at">.after=</span> dischtime) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>stay <span class="ot">&lt;-</span> <span class="fu">group_by</span>(admissions_mod, subject_id) <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_stay_h =</span> <span class="fu">as.numeric</span>(<span class="fu">sum</span>(length_of_stay)), <span class="at">avg_stay_h=</span> <span class="fu">as.numeric</span>(<span class="fu">mean</span>(length_of_stay))) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>patients_mod1 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(patients_mod1, stay, <span class="at">by=</span> <span class="st">"subject_id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Convert mortality to 0 and 1</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>patients_mod1 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(patients_mod1, <span class="at">patients_death =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(dod), <span class="dv">0</span>, <span class="dv">1</span>), <span class="at">.after =</span> dod)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Obtain the most frequent admission type. Group by ID and count the admission type.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>most_freq_admission <span class="ot">&lt;-</span> <span class="fu">count</span>(admissions,subject_id, admission_type)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(most_freq_admission))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">subject_id</th>
<th style="text-align: left;">admission_type</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">10000032</td>
<td style="text-align: left;">EW EMER.</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">10000032</td>
<td style="text-align: left;">URGENT</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10001217</td>
<td style="text-align: left;">DIRECT EMER.</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">10001217</td>
<td style="text-align: left;">EW EMER.</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10001725</td>
<td style="text-align: left;">EW EMER.</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002428</td>
<td style="text-align: left;">EU OBSERVATION</td>
<td style="text-align: right;">3</td>
</tr>
</tbody>
</table>
<p>Reorganize the table</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>most_freq_admission <span class="ot">&lt;-</span> <span class="fu">arrange</span>(most_freq_admission, subject_id, <span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Group by subject_id and extract the first row in each group.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>adm <span class="ot">&lt;-</span> <span class="fu">group_by</span>(most_freq_admission, subject_id) <span class="sc">|&gt;</span> <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">1</span>) </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>adm <span class="ot">&lt;-</span> <span class="fu">rename</span>(adm,<span class="at">admissions_n =</span> n)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(adm))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">subject_id</th>
<th style="text-align: left;">admission_type</th>
<th style="text-align: right;">admissions_n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">10000032</td>
<td style="text-align: left;">EW EMER.</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">10001217</td>
<td style="text-align: left;">DIRECT EMER.</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10001725</td>
<td style="text-align: left;">EW EMER.</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002428</td>
<td style="text-align: left;">EU OBSERVATION</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10002495</td>
<td style="text-align: left;">URGENT</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002930</td>
<td style="text-align: left;">EU OBSERVATION</td>
<td style="text-align: right;">7</td>
</tr>
</tbody>
</table>
<p>Modify patients_mod1 including admission and n as well.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>patients_mod1 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(patients_mod1, adm, <span class="at">by =</span> <span class="st">"subject_id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Calculate the most frequent insurance per patient.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>subject_insurance_count <span class="ot">&lt;-</span> <span class="fu">count</span>(admissions,subject_id, insurance) <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">insurance_count =</span> n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If there is a tie, I keep only one subject_id -&gt; with_ties = FALSE</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>mfi_per_patient <span class="ot">&lt;-</span> <span class="fu">group_by</span>(subject_insurance_count, subject_id) <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> insurance_count, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>patients_mod1 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(patients_mod1,mfi_per_patient, <span class="at">by=</span><span class="st">"subject_id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Which patients were readmitted within the first 30 days after discharge?</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>adm_relag <span class="ot">&lt;-</span> <span class="fu">arrange</span>(admissions, subject_id, admittime) <span class="sc">|&gt;</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(subject_id) <span class="sc">|&gt;</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">discharge_time =</span> <span class="fu">lag</span>(dischtime), <span class="at">.after =</span> dischtime)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>adm_mod3 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(adm_relag, <span class="at">days_between =</span> <span class="fu">as.numeric</span>(admittime <span class="sc">-</span> discharge_time), <span class="at">.after =</span> discharge_time) <span class="sc">|&gt;</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(days_between <span class="sc">&lt;=</span> <span class="dv">30</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(adm_mod3)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="caption-top table">
<colgroup>
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">subject_id</th>
<th style="text-align: right;">hadm_id</th>
<th style="text-align: left;">admittime</th>
<th style="text-align: left;">dischtime</th>
<th style="text-align: left;">discharge_time</th>
<th style="text-align: right;">days_between</th>
<th style="text-align: left;">deathtime</th>
<th style="text-align: left;">admission_type</th>
<th style="text-align: left;">admit_provider_id</th>
<th style="text-align: left;">admission_location</th>
<th style="text-align: left;">discharge_location</th>
<th style="text-align: left;">insurance</th>
<th style="text-align: left;">language</th>
<th style="text-align: left;">marital_status</th>
<th style="text-align: left;">race</th>
<th style="text-align: left;">edregtime</th>
<th style="text-align: left;">edouttime</th>
<th style="text-align: right;">hospital_expire_flag</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">10000032</td>
<td style="text-align: right;">29079034</td>
<td style="text-align: left;">2180-07-23 12:35:00</td>
<td style="text-align: left;">2180-07-25 17:55:00</td>
<td style="text-align: left;">2180-06-27 18:49:00</td>
<td style="text-align: right;">25.740278</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">EW EMER.</td>
<td style="text-align: left;">P30KEH</td>
<td style="text-align: left;">EMERGENCY ROOM</td>
<td style="text-align: left;">HOME</td>
<td style="text-align: left;">Medicaid</td>
<td style="text-align: left;">ENGLISH</td>
<td style="text-align: left;">WIDOWED</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: left;">2180-07-23 05:54:00</td>
<td style="text-align: left;">2180-07-23 14:00:00</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">10000032</td>
<td style="text-align: right;">25742920</td>
<td style="text-align: left;">2180-08-05 23:44:00</td>
<td style="text-align: left;">2180-08-07 17:50:00</td>
<td style="text-align: left;">2180-07-25 17:55:00</td>
<td style="text-align: right;">11.242361</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">EW EMER.</td>
<td style="text-align: left;">P60CC5</td>
<td style="text-align: left;">EMERGENCY ROOM</td>
<td style="text-align: left;">HOSPICE</td>
<td style="text-align: left;">Medicaid</td>
<td style="text-align: left;">ENGLISH</td>
<td style="text-align: left;">WIDOWED</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: left;">2180-08-05 20:58:00</td>
<td style="text-align: left;">2180-08-06 01:44:00</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10001217</td>
<td style="text-align: right;">27703517</td>
<td style="text-align: left;">2157-12-18 16:58:00</td>
<td style="text-align: left;">2157-12-24 14:55:00</td>
<td style="text-align: left;">2157-11-25 18:00:00</td>
<td style="text-align: right;">22.956944</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">DIRECT EMER.</td>
<td style="text-align: left;">P99698</td>
<td style="text-align: left;">PHYSICIAN REFERRAL</td>
<td style="text-align: left;">HOME HEALTH CARE</td>
<td style="text-align: left;">Other</td>
<td style="text-align: left;">?</td>
<td style="text-align: left;">MARRIED</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002428</td>
<td style="text-align: right;">20321825</td>
<td style="text-align: left;">2156-04-30 20:35:00</td>
<td style="text-align: left;">2156-05-03 16:36:00</td>
<td style="text-align: left;">2156-04-29 16:26:00</td>
<td style="text-align: right;">1.172917</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">EW EMER.</td>
<td style="text-align: left;">P825SO</td>
<td style="text-align: left;">EMERGENCY ROOM</td>
<td style="text-align: left;">CHRONIC/LONG TERM ACUTE CARE</td>
<td style="text-align: left;">Medicare</td>
<td style="text-align: left;">ENGLISH</td>
<td style="text-align: left;">WIDOWED</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: left;">2156-04-30 18:30:00</td>
<td style="text-align: left;">2156-04-30 21:53:00</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10002428</td>
<td style="text-align: right;">23473524</td>
<td style="text-align: left;">2156-05-11 14:49:00</td>
<td style="text-align: left;">2156-05-22 14:16:00</td>
<td style="text-align: left;">2156-05-03 16:36:00</td>
<td style="text-align: right;">7.925694</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">EW EMER.</td>
<td style="text-align: left;">P3529J</td>
<td style="text-align: left;">EMERGENCY ROOM</td>
<td style="text-align: left;">CHRONIC/LONG TERM ACUTE CARE</td>
<td style="text-align: left;">Medicare</td>
<td style="text-align: left;">ENGLISH</td>
<td style="text-align: left;">WIDOWED</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: left;">2156-05-11 11:29:00</td>
<td style="text-align: left;">2156-05-11 16:53:00</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002930</td>
<td style="text-align: right;">28301173</td>
<td style="text-align: left;">2197-04-08 19:37:00</td>
<td style="text-align: left;">2197-04-15 12:01:00</td>
<td style="text-align: left;">2197-04-08 19:37:00</td>
<td style="text-align: right;">0.000000</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">URGENT</td>
<td style="text-align: left;">P3763P</td>
<td style="text-align: left;">INTERNAL TRANSFER TO OR FROM PSYCH</td>
<td style="text-align: left;">HOME</td>
<td style="text-align: left;">Medicare</td>
<td style="text-align: left;">ENGLISH</td>
<td style="text-align: left;">SINGLE</td>
<td style="text-align: left;">BLACK/AFRICAN AMERICAN</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p>How many times were the readmitted ?</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>readm_number <span class="ot">=</span> <span class="fu">count</span>(adm_mod3, subject_id) <span class="sc">|&gt;</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">n_readm_30_days =</span> n)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>patients_mod1 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(patients_mod1,readm_number, <span class="at">by =</span> <span class="st">"subject_id"</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>patients_mod1 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(patients_mod1, <span class="at">n_readm_30_days =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(n_readm_30_days), <span class="dv">0</span>,n_readm_30_days))</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>patients_mod1 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(patients_mod1, <span class="at">readm_30_days =</span> <span class="fu">ifelse</span>(n_readm_30_days <span class="sc">==</span> <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>I introduce the variable ethnicity into patients_mod1</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>ethnicity_count <span class="ot">&lt;-</span><span class="fu">count</span>(admissions, subject_id, race)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(ethnicity_count))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">subject_id</th>
<th style="text-align: left;">race</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">10000032</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">10001217</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10001725</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002428</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10002495</td>
<td style="text-align: left;">UNKNOWN</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002930</td>
<td style="text-align: left;">BLACK/AFRICAN AMERICAN</td>
<td style="text-align: right;">12</td>
</tr>
</tbody>
</table>
<p>The resulting table has a dimension of 104 x 3, this is because for the same patient there are different classifications. Example:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(<span class="fu">filter</span>(ethnicity_count, subject_id <span class="sc">==</span><span class="dv">10004457</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">subject_id</th>
<th style="text-align: left;">race</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">10004457</td>
<td style="text-align: left;">OTHER</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">10004457</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
<p>I create a new logical column to identify which values are duplicated.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>ethnicity_count <span class="ot">&lt;-</span><span class="fu">mutate</span>(ethnicity_count, <span class="at">duplicated_var =</span> <span class="fu">duplicated</span>(ethnicity_count<span class="sc">$</span>subject_id))</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(ethnicity_count))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">subject_id</th>
<th style="text-align: left;">race</th>
<th style="text-align: right;">n</th>
<th style="text-align: left;">duplicated_var</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">10000032</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">10001217</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10001725</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002428</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10002495</td>
<td style="text-align: left;">UNKNOWN</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002930</td>
<td style="text-align: left;">BLACK/AFRICAN AMERICAN</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">FALSE</td>
</tr>
</tbody>
</table>
<p>I filter those that are TRUE.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>ethnicity_repeated <span class="ot">&lt;-</span> <span class="fu">filter</span>(ethnicity_count, duplicated_var <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(ethnicity_repeated))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">subject_id</th>
<th style="text-align: left;">race</th>
<th style="text-align: right;">n</th>
<th style="text-align: left;">duplicated_var</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">10004457</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">10035631</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10037928</td>
<td style="text-align: left;">HISPANIC/LATINO - CUBAN</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">10038992</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">TRUE</td>
</tr>
</tbody>
</table>
<p>Now I filter out the FALSE values and keep the table of 100 rows, which I will join to patients_mod1.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>ethnicity_count <span class="ot">&lt;-</span> <span class="fu">filter</span>(ethnicity_count, duplicated_var <span class="sc">!=</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(ethnicity_count))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">subject_id</th>
<th style="text-align: left;">race</th>
<th style="text-align: right;">n</th>
<th style="text-align: left;">duplicated_var</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">10000032</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">10001217</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10001725</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002428</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10002495</td>
<td style="text-align: left;">UNKNOWN</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002930</td>
<td style="text-align: left;">BLACK/AFRICAN AMERICAN</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">FALSE</td>
</tr>
</tbody>
</table>
<p>Before joining the tables, I modify the data of the subject_id present in ethnicity_count with those obtained from ethnicity_repeated.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>ethnicity_count <span class="ot">&lt;-</span> <span class="fu">mutate</span>(ethnicity_count, <span class="at">race =</span> <span class="fu">case_when</span>(subject_id <span class="sc">==</span> <span class="dv">10004457</span> <span class="sc">~</span> <span class="st">"WHITE"</span>,</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  subject_id <span class="sc">==</span> <span class="dv">10035631</span> <span class="sc">~</span> <span class="st">"WHITE"</span>,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  subject_id <span class="sc">==</span> <span class="dv">10037928</span> <span class="sc">~</span> <span class="st">"HISPANIC/LATINO - CUBAN"</span>,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  subject_id <span class="sc">==</span> <span class="dv">10038992</span> <span class="sc">~</span> <span class="st">"WHITE"</span>, </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">.default =</span> race))</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(ethnicity_count))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">subject_id</th>
<th style="text-align: left;">race</th>
<th style="text-align: right;">n</th>
<th style="text-align: left;">duplicated_var</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">10000032</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">10001217</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10001725</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002428</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10002495</td>
<td style="text-align: left;">UNKNOWN</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002930</td>
<td style="text-align: left;">BLACK/AFRICAN AMERICAN</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">FALSE</td>
</tr>
</tbody>
</table>
<p>I check that it has been replaced correctly.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">filter</span>(ethnicity_count, subject_id <span class="sc">==</span> <span class="dv">10004457</span> <span class="sc">|</span> subject_id <span class="sc">==</span> <span class="dv">10035631</span> <span class="sc">|</span> subject_id <span class="sc">==</span> <span class="dv">10037928</span> <span class="sc">|</span> subject_id <span class="sc">==</span> <span class="dv">10038992</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">subject_id</th>
<th style="text-align: left;">race</th>
<th style="text-align: right;">n</th>
<th style="text-align: left;">duplicated_var</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">10004457</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">10035631</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10037928</td>
<td style="text-align: left;">HISPANIC/LATINO - CUBAN</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">10038992</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
</tr>
</tbody>
</table>
<p>n Join with the patients_mod1 table.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>patients_mod1 <span class="ot">&lt;-</span> <span class="fu">select</span>(ethnicity_count, subject_id, race) <span class="sc">|&gt;</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(patients_mod1, ethnicity_count, <span class="at">by =</span> <span class="st">"subject_id"</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(patients_mod1))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="caption-top table">
<colgroup>
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">subject_id</th>
<th style="text-align: left;">race</th>
<th style="text-align: left;">gender</th>
<th style="text-align: right;">anchor_age</th>
<th style="text-align: right;">anchor_year</th>
<th style="text-align: left;">anchor_year_group</th>
<th style="text-align: left;">dod</th>
<th style="text-align: right;">patients_death</th>
<th style="text-align: right;">number_admissions</th>
<th style="text-align: right;">total_stay_h</th>
<th style="text-align: right;">avg_stay_h</th>
<th style="text-align: left;">admission_type</th>
<th style="text-align: right;">admissions_n</th>
<th style="text-align: left;">insurance</th>
<th style="text-align: right;">insurance_count</th>
<th style="text-align: right;">n_readm_30_days</th>
<th style="text-align: right;">readm_30_days</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">10000032</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">2180</td>
<td style="text-align: left;">2014 - 2016</td>
<td style="text-align: left;">2180-09-09</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">138.66667</td>
<td style="text-align: right;">34.66667</td>
<td style="text-align: left;">EW EMER.</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">Medicaid</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">10001217</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">2157</td>
<td style="text-align: left;">2011 - 2013</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">305.01667</td>
<td style="text-align: right;">152.50833</td>
<td style="text-align: left;">DIRECT EMER.</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Other</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10001725</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">46</td>
<td style="text-align: right;">2110</td>
<td style="text-align: left;">2011 - 2013</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">71.86667</td>
<td style="text-align: right;">71.86667</td>
<td style="text-align: left;">EW EMER.</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Other</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002428</td>
<td style="text-align: left;">WHITE</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">2155</td>
<td style="text-align: left;">2011 - 2013</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">944.36667</td>
<td style="text-align: right;">134.90952</td>
<td style="text-align: left;">EU OBSERVATION</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">Medicare</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10002495</td>
<td style="text-align: left;">UNKNOWN</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">81</td>
<td style="text-align: right;">2141</td>
<td style="text-align: left;">2014 - 2016</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">165.40000</td>
<td style="text-align: right;">165.40000</td>
<td style="text-align: left;">URGENT</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Medicare</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">10002930</td>
<td style="text-align: left;">BLACK/AFRICAN AMERICAN</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">2193</td>
<td style="text-align: left;">2011 - 2013</td>
<td style="text-align: left;">2201-12-24</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">958.43333</td>
<td style="text-align: right;">79.86944</td>
<td style="text-align: left;">EU OBSERVATION</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">Medicare</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</section>
<section id="exploratory-data-analysis-eda" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-data-analysis-eda">Exploratory Data Analysis (EDA)</h2>
<section id="categorical-variables-vs.-death-outcome." class="level3">
<h3 class="anchored" data-anchor-id="categorical-variables-vs.-death-outcome.">Categorical Variables vs.&nbsp;Death Outcome.</h3>
<p><strong>Proportion of deaths by insurance.</strong></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(patients_mod1, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">factor</span>(patients_death), <span class="at">fill =</span> insurance)) <span class="sc">+</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Medicaid"</span> <span class="ot">=</span> <span class="st">"steelblue"</span>,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a> <span class="st">"Medicare"</span> <span class="ot">=</span> <span class="st">"darkorange"</span>, </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a> <span class="st">"Other"</span> <span class="ot">=</span> <span class="st">"#76B7B2"</span>),</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="at">name =</span> <span class="st">"0 Alive </span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="st">1 Death"</span>) <span class="sc">+</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Counts of deaths by insurance"</span>) <span class="sc">+</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">70</span>, <span class="at">by=</span><span class="dv">5</span>))<span class="sc">+</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-27-1.png" class="img-fluid"></p>
<p><strong>Proportion of deaths by gender.</strong></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(patients_mod1, <span class="fu">aes</span>(<span class="at">y=</span><span class="fu">factor</span>(patients_death), <span class="at">fill =</span> gender)) <span class="sc">+</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"F"</span> <span class="ot">=</span> <span class="st">"lightpink"</span>, <span class="st">"M"</span><span class="ot">=</span><span class="st">"lightblue"</span>)) <span class="sc">+</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Count of deaths by gender"</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="at">y =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">50</span>, <span class="at">by=</span> <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-28-1.png" class="img-fluid"></p>
<p>Different names are used to refer to the same variable values. For example: “UNKNOWN, UNABLE TO OBTAIN, OTHER…” I recoded the variable race to group similar categories under a single label.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>patients_mod1 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(patients_mod1, <span class="at">race =</span> <span class="fu">case_when</span>(race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"HISPANIC OR LATINO"</span>, <span class="st">"HISPANIC/LATINO - CUBAN"</span>,  <span class="st">"HISPANIC/LATINO - PUERTO RICAN"</span>, <span class="st">"HISPANIC/LATINO - SALVADORAN"</span>) <span class="sc">~</span> <span class="st">"LATINO"</span>,  </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BLACK/AFRICAN AMERICAN"</span>,<span class="st">"BLACK/CAPE VERDEAN"</span>, <span class="st">"BLACK"</span>) <span class="sc">~</span> <span class="st">"BLACK"</span>,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"WHITE - BRAZILIAN"</span>, <span class="st">"WHITE - OTHER EUROPEAN"</span>, <span class="st">"WHITE"</span>, <span class="st">"PORTUGUESE"</span>)<span class="sc">~</span> <span class="st">"WHITE"</span>,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"UNKNOWN"</span>,<span class="st">"UNABLE TO OBTAIN"</span>,<span class="st">"OTHER"</span>, <span class="st">"PATIENT DECLINED TO ANSWER"</span>) <span class="sc">~</span> <span class="st">"OTHER"</span>, <span class="at">.default=</span> race))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Proportion of deaths by race.</strong></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(patients_mod1,<span class="fu">aes</span>(<span class="at">y=</span> <span class="fu">factor</span>(patients_death), <span class="at">fill =</span> race)) <span class="sc">+</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">"BLACK"</span> <span class="ot">=</span> <span class="st">"turquoise"</span>, <span class="st">"OTHER"</span> <span class="ot">=</span> <span class="st">"lightgray"</span>, <span class="st">"WHITE"</span> <span class="ot">=</span> <span class="st">"skyblue"</span>, <span class="st">"LATINO"</span><span class="ot">=</span><span class="st">"salmon"</span>),</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="at">name =</span> <span class="st">"0 Alive 1 Death</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="st">Race"</span>) <span class="sc">+</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_binned</span>() <span class="sc">+</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">70</span>, <span class="at">by=</span><span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Count of deaths according to race"</span>,</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="at">y =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-30-1.png" class="img-fluid"></p>
<p><strong>Proportion of deaths by admission type.</strong></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(patients_mod1, <span class="fu">aes</span>(<span class="at">y=</span><span class="fu">factor</span>(patients_death), <span class="at">fill =</span>admission_type)) <span class="sc">+</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.text=</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">5</span>),</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="at">legend.title=</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">30</span>, <span class="at">by=</span><span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Death vs adm.type"</span>) <span class="sc">+</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">"Set3"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-31-1.png" class="img-fluid"></p>
</section>
<section id="quantitative-variables-vs-death-outcome." class="level3">
<h3 class="anchored" data-anchor-id="quantitative-variables-vs-death-outcome.">Quantitative Variables vs Death Outcome.</h3>
<p><strong>Average length of stay (hours) by death outcome</strong></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>deaths_vs_stay <span class="ot">&lt;-</span> <span class="fu">group_by</span>(patients_mod1, patients_death) <span class="sc">|&gt;</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">media =</span> <span class="fu">mean</span>(avg_stay_h),<span class="at">desv =</span> <span class="fu">sd</span>(avg_stay_h, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="at">n =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>deaths_vs_stay <span class="ot">&lt;-</span> <span class="fu">mutate</span>(deaths_vs_stay, <span class="at">est_error =</span> desv<span class="sc">/</span><span class="fu">sqrt</span>(n),</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="at">upper_bound_ci =</span> media <span class="sc">+</span> <span class="fu">qt</span>(<span class="fl">0.975</span>, <span class="at">df =</span> n <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> est_error, </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="at">lower_bound_ci =</span> media <span class="sc">-</span> <span class="fu">qt</span>(<span class="fl">0.975</span>, <span class="at">df =</span> n <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> est_error)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(deaths_vs_stay, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(patients_death), <span class="at">y=</span>media)) <span class="sc">+</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"skyblue"</span>) <span class="sc">+</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span> media <span class="sc">-</span> desv, <span class="at">ymax=</span> media <span class="sc">+</span> desv), <span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Death outcome"</span>) <span class="sc">+</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Mean"</span>) <span class="sc">+</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-34-1.png" class="img-fluid"></p>
<p><strong>Number of readmissions within the first 30 days by death outcome</strong></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(patients_mod1, <span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">factor</span>(patients_death), <span class="at">fill =</span> <span class="fu">factor</span>(n_readm_30_days))) <span class="sc">+</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">""</span>, <span class="at">fill =</span> <span class="st">"Number of readmissions"</span>) <span class="sc">+</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Number of readmissions within first 30 days"</span>) <span class="sc">+</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">100</span>,<span class="at">by=</span> <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.text=</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="at">legend.position=</span><span class="st">"bottom"</span>, </span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="at">legend.title.position =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill=</span><span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span>, <span class="st">"grey"</span>, <span class="st">"pink"</span>, <span class="st">"purple"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-35-1.png" class="img-fluid"></p>
<p><strong>Average stay (hours) and number of admissions by death outcome</strong></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(patients_mod1, <span class="fu">aes</span>(<span class="at">x=</span> avg_stay_h, <span class="at">y =</span>number_admissions, <span class="at">color=</span><span class="fu">factor</span>(patients_death))) <span class="sc">+</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Number of admissions"</span>) <span class="sc">+</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Average of stay (hours)"</span>) <span class="sc">+</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Average Hospital Stay vs. Number of Admissions, by Death Outcome"</span>) <span class="sc">+</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">800</span>, <span class="at">by=</span> <span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks=</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">25</span>, <span class="at">by=</span> <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Status"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"0"</span> <span class="ot">=</span> <span class="st">"grey"</span>, <span class="st">"1"</span><span class="ot">=</span><span class="st">"turquoise"</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"0"</span> <span class="ot">=</span> <span class="st">"0 Alive"</span>, <span class="st">"1"</span> <span class="ot">=</span> <span class="st">"1 Death"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-36-1.png" class="img-fluid"></p>
<p><strong>Readmissions within 30 days vs number of admissions by death outcome</strong></p>
<p>Selection: 1</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(patients_mod1, <span class="fu">aes</span>(<span class="at">y=</span>n_readm_30_days, <span class="at">x =</span>number_admissions, <span class="at">color =</span> <span class="fu">factor</span>(patients_death))) <span class="sc">+</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Readmissions within 30 d."</span>) <span class="sc">+</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Number of admissions"</span>) <span class="sc">+</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">"0"</span> <span class="ot">=</span> <span class="st">"salmon"</span>, <span class="st">"1"</span> <span class="ot">=</span> <span class="st">"lightgrey"</span>)) <span class="sc">+</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">30</span>, <span class="dv">30</span>, <span class="at">by=</span> <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Relationship Between Admissions </span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="st">and 30-Day Readmissions (Alive vs Dead)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-37-1.png" class="img-fluid"></p>
<p><strong>Hospital stay vs 30-day readmissions by survival</strong></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(patients_mod1, <span class="fu">aes</span>(<span class="at">y =</span> total_stay_h, <span class="at">x =</span> n_readm_30_days ,<span class="at">color =</span> <span class="fu">factor</span>(patients_death))) <span class="sc">+</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Hospital Stay vs. 30-Day Readmissions </span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="st">by Survival Status"</span>, <span class="at">x =</span> <span class="st">"Readmissions within 30 days"</span>, <span class="at">y =</span> <span class="st">"Total stay in hours"</span>, <span class="at">color =</span> <span class="st">"Patients death"</span>) <span class="sc">+</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-38-1.png" class="img-fluid"></p>
<p><strong>Number of admissions by admission type and death outcome</strong></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(patients_mod1, <span class="fu">aes</span>(<span class="at">x =</span> admissions_n, <span class="at">fill =</span> admission_type)) <span class="sc">+</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()<span class="sc">+</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>patients_death) <span class="sc">+</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span> <span class="st">"Set3"</span>) <span class="sc">+</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Number of admissions"</span>, <span class="at">title =</span> <span class="st">"Admissions by Type and Outcome"</span>, <span class="at">fill =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">legend.text=</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-39-1.png" class="img-fluid"></p>
</section>
</section>
<section id="non-supervised-analysis." class="level2">
<h2 class="anchored" data-anchor-id="non-supervised-analysis."><strong>Non-supervised analysis.</strong></h2>
<section id="clustering-quantitative-variables." class="level3">
<h3 class="anchored" data-anchor-id="clustering-quantitative-variables.">Clustering quantitative variables.</h3>
<p>Patient clustering: selection of relevant variables. Eliminate categorical (character) variables.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>patients_mod2 <span class="ot">&lt;-</span> <span class="fu">select</span>(patients_mod1, <span class="sc">-</span><span class="fu">c</span>(subject_id,insurance,gender,anchor_year ,anchor_year_group, dod,</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>patients_death, race, readm_30_days, admission_type))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Visualize the data</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(patients_mod2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>   anchor_age    number_admissions  total_stay_h       avg_stay_h    
 Min.   :21.00   Min.   : 1.00     Min.   :  41.68   Min.   : 34.67  
 1st Qu.:51.75   1st Qu.: 1.00     1st Qu.: 124.33   1st Qu.:102.09  
 Median :63.00   Median : 1.00     Median : 244.72   Median :140.34  
 Mean   :61.75   Mean   : 2.75     Mean   : 453.79   Mean   :172.94  
 3rd Qu.:72.00   3rd Qu.: 3.00     3rd Qu.: 540.56   3rd Qu.:216.75  
 Max.   :91.00   Max.   :20.00     Max.   :2859.72   Max.   :751.38  
  admissions_n  insurance_count n_readm_30_days
 Min.   :1.00   Min.   : 1.0    Min.   :0.00   
 1st Qu.:1.00   1st Qu.: 1.0    1st Qu.:0.00   
 Median :1.00   Median : 1.0    Median :0.00   
 Mean   :1.67   Mean   : 2.7    Mean   :0.49   
 3rd Qu.:2.00   3rd Qu.: 3.0    3rd Qu.:1.00   
 Max.   :7.00   Max.   :20.0    Max.   :8.00   </code></pre>
<p>Standardization</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>patients_scale <span class="ot">&lt;-</span> <span class="fu">scale</span>(patients_mod2)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(patients_scale)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>   anchor_age      number_admissions   total_stay_h       avg_stay_h     
 Min.   :-2.5201   Min.   :-0.55042   Min.   :-0.7630   Min.   :-1.2278  
 1st Qu.:-0.6184   1st Qu.:-0.55042   1st Qu.:-0.6100   1st Qu.:-0.6291  
 Median : 0.0773   Median :-0.55042   Median :-0.3871   Median :-0.2895  
 Mean   : 0.0000   Mean   : 0.00000   Mean   : 0.0000   Mean   : 0.0000  
 3rd Qu.: 0.6339   3rd Qu.: 0.07863   3rd Qu.: 0.1607   3rd Qu.: 0.3890  
 Max.   : 1.8089   Max.   : 5.42555   Max.   : 4.4544   Max.   : 5.1362  
  admissions_n     insurance_count    n_readm_30_days  
 Min.   :-0.4913   Min.   :-0.53840   Min.   :-0.4228  
 1st Qu.:-0.4913   1st Qu.:-0.53840   1st Qu.:-0.4228  
 Median :-0.4913   Median :-0.53840   Median :-0.4228  
 Mean   : 0.0000   Mean   : 0.00000   Mean   : 0.0000  
 3rd Qu.: 0.2420   3rd Qu.: 0.09501   3rd Qu.: 0.4400  
 Max.   : 3.9085   Max.   : 5.47905   Max.   : 6.4796  </code></pre>
<p>Set the optimal number of clusters</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_nbclust</span>(patients_scale, <span class="at">FUNcluster =</span> kmeans, <span class="at">method =</span> <span class="st">"wss"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-44-1.png" class="img-fluid"></p>
<p>Optimal k = 3</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>cluster_patients <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(patients_scale, <span class="at">centers =</span> <span class="dv">3</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>vector_cluster <span class="ot">&lt;-</span> cluster_patients<span class="sc">$</span>cluster</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>patients_mod1 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(patients_mod1, <span class="at">clusters_patients =</span> vector_cluster)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Patient clusters by number of admissions and average hospital stay</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(patients_mod1, <span class="fu">aes</span>(<span class="at">y=</span>avg_stay_h, <span class="at">x =</span>number_admissions, <span class="at">color =</span> <span class="fu">factor</span>(clusters_patients))) <span class="sc">+</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Number of admissions"</span>) <span class="sc">+</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Average of stay (hours) "</span>) <span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Patient clustering by admissions </span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="st">and 30-day readmissions"</span>) <span class="sc">+</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">40</span>, <span class="at">by=</span><span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1000</span>, <span class="at">by =</span> <span class="dv">50</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-46-1.png" class="img-fluid"></p>
<p>Visualization of patient clusters</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_cluster</span>(cluster_patients,patients_mod2, <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-47-1.png" class="img-fluid"></p>
</section>
<section id="clustering-including-categorical-variables." class="level3">
<h3 class="anchored" data-anchor-id="clustering-including-categorical-variables.">Clustering including categorical variables.</h3>
<div class="sourceCode" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cluster)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>I cloned patients_mod1 to patients_mod3 in order to make some changes to the table</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>patients_mod1 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(patients_mod1, <span class="at">prop_insurance_count =</span> insurance_count <span class="sc">/</span> number_admissions, <span class="at">.after =</span> insurance_count)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>patients_mod3 <span class="ot">&lt;-</span> patients_mod1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In patients_mod3, convert character columns to factors to avoid errors when using daisy, and remove irrelevant categorical variables.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>patients_mod3 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(patients_mod3,<span class="at">subject_id =</span> <span class="fu">as.factor</span>(subject_id), </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="at">race =</span> <span class="fu">as.factor</span>(race),</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="at">anchor_year =</span> <span class="fu">as.factor</span>(anchor_year),</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="at">anchor_year_group =</span> <span class="fu">as.factor</span>(anchor_year_group),</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="at">gender =</span> <span class="fu">as.factor</span>(gender),</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="at">dod =</span> <span class="fu">as.factor</span>(dod),</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="at">admission_type =</span> <span class="fu">as.factor</span>(admission_type),</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a><span class="at">insurance =</span> <span class="fu">as.factor</span>(insurance),</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a><span class="at">patients_death =</span> <span class="fu">as.factor</span>(patients_death),</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a><span class="at">readm_30_days =</span> <span class="fu">as.factor</span>(readm_30_days)) <span class="sc">|&gt;</span>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(subject_id, anchor_year,dod, insurance_count, clusters_patients))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Gower distance matrix for patients</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">daisy</span>(patients_mod3, <span class="at">metric =</span> <span class="st">"gower"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Hierarchical clustering of patients (complete linkage)</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>resultado <span class="ot">&lt;-</span> <span class="fu">hclust</span>(mat, <span class="at">method =</span> <span class="st">"complete"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Dendrogram of patients (complete-linkage clustering)</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(resultado, <span class="at">cex =</span> <span class="fl">0.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-53-1.png" class="img-fluid"></p>
<p>I use factoextra to determine the optimal number of clusters (k = 4).</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_nbclust</span>(patients_mod3, <span class="at">FUN =</span> hcut, <span class="at">diss =</span> mat, <span class="at">method =</span> <span class="st">"wss"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-54-1.png" class="img-fluid"></p>
<p>Dendrogram of patients with 4 clusters highlighted.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>clust <span class="ot">&lt;-</span> <span class="fu">cutree</span>(resultado, <span class="at">k =</span> <span class="dv">4</span>) </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span> (resultado, <span class="at">cex =</span> <span class="fl">0.3</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rect.hclust</span>(resultado, <span class="at">k =</span> <span class="dv">4</span>, <span class="at">border =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-55-1.png" class="img-fluid"></p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>patients_mod1 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(patients_mod1, <span class="at">clusters_chategorical =</span> clust)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Logistic Regression with k-Fold Cross-Validation (Caret) In this part I have done an alysis focused on applying logistic regression to a patient dataset, followed by model training and evaluation using k-fold cross-validation through the caret package in R. The goal is to predict patient mortality (patients_death) based on a set of clinical and demographic features.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>patients_mod4 <span class="ot">&lt;-</span> <span class="fu">select</span>(patients_mod1, <span class="sc">-</span><span class="fu">c</span>(subject_id,anchor_year,dod,insurance_count))</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>logistica1 <span class="ot">&lt;-</span> <span class="fu">glm</span>(patients_death <span class="sc">~</span> . <span class="sc">-</span> clusters_patients <span class="sc">-</span> clusters_chategorical, <span class="at">data =</span> patients_mod4)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(logistica1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Call:
glm(formula = patients_death ~ . - clusters_patients - clusters_chategorical, 
    data = patients_mod4)

Coefficients:
                                            Estimate Std. Error t value
(Intercept)                                1.290e-01  7.758e-01   0.166
raceLATINO                                -2.562e-01  2.783e-01  -0.920
raceOTHER                                  7.728e-03  2.181e-01   0.035
raceWHITE                                  1.013e-02  1.818e-01   0.056
genderM                                    1.269e-01  1.017e-01   1.248
anchor_age                                 6.209e-03  3.436e-03   1.807
anchor_year_group2014 - 2016              -1.153e-01  1.093e-01  -1.054
number_admissions                         -8.016e-02  5.808e-02  -1.380
total_stay_h                               8.178e-05  2.099e-04   0.390
avg_stay_h                                 5.703e-04  5.622e-04   1.014
admission_typeDIRECT EMER.                 5.307e-01  4.245e-01   1.250
admission_typeDIRECT OBSERVATION          -2.099e-02  5.751e-01  -0.036
admission_typeELECTIVE                     4.504e-02  4.368e-01   0.103
admission_typeEU OBSERVATION               3.667e-01  3.934e-01   0.932
admission_typeEW EMER.                     3.002e-01  3.776e-01   0.795
admission_typeOBSERVATION ADMIT            3.136e-01  4.103e-01   0.764
admission_typeSURGICAL SAME DAY ADMISSION  7.907e-04  4.091e-01   0.002
admission_typeURGENT                       2.383e-01  4.155e-01   0.574
admissions_n                               1.579e-01  1.055e-01   1.496
insuranceMedicare                         -3.067e-02  1.973e-01  -0.155
insuranceOther                            -1.092e-01  1.818e-01  -0.600
prop_insurance_count                      -6.237e-01  8.045e-01  -0.775
n_readm_30_days                            5.306e-02  7.821e-02   0.678
readm_30_days                              4.384e-02  1.865e-01   0.235
                                          Pr(&gt;|t|)  
(Intercept)                                 0.8684  
raceLATINO                                  0.3603  
raceOTHER                                   0.9718  
raceWHITE                                   0.9557  
genderM                                     0.2160  
anchor_age                                  0.0747 .
anchor_year_group2014 - 2016                0.2951  
number_admissions                           0.1716  
total_stay_h                                0.6979  
avg_stay_h                                  0.3136  
admission_typeDIRECT EMER.                  0.2151  
admission_typeDIRECT OBSERVATION            0.9710  
admission_typeELECTIVE                      0.9181  
admission_typeEU OBSERVATION                0.3542  
admission_typeEW EMER.                      0.4290  
admission_typeOBSERVATION ADMIT             0.4470  
admission_typeSURGICAL SAME DAY ADMISSION   0.9985  
admission_typeURGENT                        0.5680  
admissions_n                                0.1388  
insuranceMedicare                           0.8769  
insuranceOther                              0.5500  
prop_insurance_count                        0.4406  
n_readm_30_days                             0.4996  
readm_30_days                               0.8148  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for gaussian family taken to be 0.1896728)

    Null deviance: 21.390  on 99  degrees of freedom
Residual deviance: 14.415  on 76  degrees of freedom
AIC: 140.1

Number of Fisher Scoring iterations: 2</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>k-Fold Cross-Validation with Caret The caret package is used to train the logistic model and perform 5-fold cross-validation: Set seed</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">7</span>)</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>logistica1_cv <span class="ot">&lt;-</span> <span class="fu">train</span>(<span class="fu">as.factor</span>(patients_death) <span class="sc">~</span> . <span class="sc">-</span> clusters_patients <span class="sc">-</span> clusters_chategorical, </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> patients_mod4, <span class="at">method =</span> <span class="st">"glm"</span>, <span class="at">family =</span> binomial, </span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="at">trControl=</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">"cv"</span>, <span class="at">number =</span> <span class="dv">5</span>))</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>logistica1_cv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Generalized Linear Model 

100 samples
 15 predictor
  2 classes: '0', '1' 

No pre-processing
Resampling: Cross-Validated (5 fold) 
Summary of sample sizes: 81, 80, 79, 80, 80 
Resampling results:

  Accuracy   Kappa    
  0.6511779  0.1418363</code></pre>
<p>SURVIVAL ANALYSIS The datasets that will be used to do survival analysis are patients and admissions respectively. Required packages: survival, survminer install.packages(“survival”) install.packages(“survminer”)</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(survival)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(survminer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Construct survival dataset by computing the first admission time, last discharge time, and derived survival duration</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>surv <span class="ot">&lt;-</span> <span class="fu">group_by</span>(admissions, subject_id) <span class="sc">|&gt;</span> </span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">first_admittime =</span> <span class="fu">min</span>(admittime), <span class="at">last_disch =</span> <span class="fu">max</span>(dischtime)) <span class="sc">|&gt;</span> </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">survival_days =</span> <span class="fu">as.numeric</span>(last_disch <span class="sc">-</span> first_admittime))</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>surv <span class="ot">&lt;-</span> <span class="fu">select</span>(surv, subject_id, survival_days)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Merge survival information into patients_mod1</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>patients_mod1 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(patients_mod1,surv, <span class="at">by=</span> <span class="st">"subject_id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Fit the Kaplan–Meier estimator</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a> km_fit <span class="ot">&lt;-</span> <span class="fu">survfit</span>(<span class="fu">Surv</span>(survival_days, patients_death)<span class="sc">~</span><span class="dv">1</span>, <span class="at">data=</span>patients_mod1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Plotting the survival curve</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsurvplot</span>(km_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-63-1.png" class="img-fluid"></p>
<p>Cross markers indicate censored observations (patients exiting the study for unspecified reasons). Drops in the curve correspond to observed deaths. No stratification is applied because all patients are included in a single group.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsurvplot</span>(km_fit, <span class="at">censor =</span> <span class="cn">FALSE</span>, <span class="at">risk.table =</span> <span class="cn">TRUE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-64-1.png" class="img-fluid"></p>
<p>Stratified survival curves by gender, insurance and, race.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>km_fit_gender <span class="ot">&lt;-</span> <span class="fu">survfit</span>(<span class="fu">Surv</span>(survival_days, patients_death)<span class="sc">~</span> gender, <span class="at">data=</span>patients_mod1)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>km_fit_gender</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Call: survfit(formula = Surv(survival_days, patients_death) ~ gender, 
    data = patients_mod1)

          n events median 0.95LCL 0.95UCL
gender=F 43     11   2508    1185      NA
gender=M 57     20    769     274      NA</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsurvplot</span>(km_fit_gender, <span class="at">risk.table =</span> <span class="cn">TRUE</span>, <span class="at">pval =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-65-1.png" class="img-fluid"></p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>km_fit_race<span class="ot">&lt;-</span> <span class="fu">survfit</span>(<span class="fu">Surv</span>(survival_days, patients_death)<span class="sc">~</span> race, <span class="at">data=</span>patients_mod1)</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsurvplot</span>(km_fit_race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-65-2.png" class="img-fluid"></p>
<p>COX PROPORTIONAL HAZARDS MODELS Cox proportional hazards model without covariates</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>cox_fit <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(survival_days, patients_death)<span class="sc">~</span><span class="dv">1</span>, <span class="at">data=</span>patients_mod1)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cox_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Call:  coxph(formula = Surv(survival_days, patients_death) ~ 1, data = patients_mod1)

Null model
  log likelihood= -105.2269 
  n= 100 </code></pre>
<p>Cox model with gender as predictor</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>cox_fit_gender <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(survival_days, patients_death)<span class="sc">~</span> gender, <span class="at">data=</span>patients_mod1)</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cox_fit_gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Call:
coxph(formula = Surv(survival_days, patients_death) ~ gender, 
    data = patients_mod1)

  n= 100, number of events= 31 

          coef exp(coef) se(coef)     z Pr(&gt;|z|)  
genderM 0.6601    1.9349   0.3814 1.731   0.0835 .
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

        exp(coef) exp(-coef) lower .95 upper .95
genderM     1.935     0.5168    0.9163     4.086

Concordance= 0.603  (se = 0.046 )
Likelihood ratio test= 3.14  on 1 df,   p=0.08
Wald test            = 3  on 1 df,   p=0.08
Score (logrank) test = 3.1  on 1 df,   p=0.08</code></pre>
<p>Cox model with race as predictor</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>cox_fit_race<span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(survival_days, patients_death)<span class="sc">~</span> race, <span class="at">data=</span>patients_mod1)</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cox_fit_race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Call:
coxph(formula = Surv(survival_days, patients_death) ~ race, data = patients_mod1)

  n= 100, number of events= 31 

                 coef  exp(coef)   se(coef)      z Pr(&gt;|z|)  
raceLATINO -1.782e+01  1.826e-08  6.063e+03 -0.003   0.9977  
raceOTHER   1.647e+00  5.193e+00  6.795e-01  2.424   0.0153 *
raceWHITE   5.595e-01  1.750e+00  5.518e-01  1.014   0.3106  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

           exp(coef) exp(-coef) lower .95 upper .95
raceLATINO 1.826e-08  5.477e+07    0.0000       Inf
raceOTHER  5.193e+00  1.926e-01    1.3709     19.67
raceWHITE  1.750e+00  5.715e-01    0.5934      5.16

Concordance= 0.637  (se = 0.048 )
Likelihood ratio test= 10.64  on 3 df,   p=0.01
Wald test            = 6.82  on 3 df,   p=0.08
Score (logrank) test = 10.37  on 3 df,   p=0.02</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(patients_mod1,race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code># A tibble: 4 × 2
  race       n
  &lt;chr&gt;  &lt;int&gt;
1 BLACK     10
2 LATINO     5
3 OTHER     18
4 WHITE     67</code></pre>
<p>Cox model with age as predictor</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>cox_fit_age <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(survival_days, patients_death)<span class="sc">~</span> anchor_age, <span class="at">data=</span>patients_mod1)</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cox_fit_age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Call:
coxph(formula = Surv(survival_days, patients_death) ~ anchor_age, 
    data = patients_mod1)

  n= 100, number of events= 31 

              coef exp(coef) se(coef)     z Pr(&gt;|z|)  
anchor_age 0.02503   1.02535  0.01322 1.894   0.0582 .
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

           exp(coef) exp(-coef) lower .95 upper .95
anchor_age     1.025     0.9753    0.9991     1.052

Concordance= 0.611  (se = 0.065 )
Likelihood ratio test= 3.73  on 1 df,   p=0.05
Wald test            = 3.59  on 1 df,   p=0.06
Score (logrank) test = 3.62  on 1 df,   p=0.06</code></pre>
<p>In this case, the model using race as predictor exhibits the highest concordance.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>cox_fit_2<span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(survival_days, patients_death)<span class="sc">~</span> race <span class="sc">+</span> anchor_age <span class="sc">+</span> gender <span class="sc">+</span> insurance, <span class="at">data=</span>patients_mod1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Model selection using backward stepwise elimination</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>best_model <span class="ot">&lt;-</span> MASS<span class="sc">::</span><span class="fu">stepAIC</span>(cox_fit_2, <span class="at">direction =</span> <span class="st">"backward"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Start:  AIC=209.57
Surv(survival_days, patients_death) ~ race + anchor_age + gender + 
    insurance

             Df    AIC
- insurance   2 205.59
- gender      1 208.07
&lt;none&gt;          209.57
- race        3 210.29
- anchor_age  1 210.47


Step:  AIC=205.59
Surv(survival_days, patients_death) ~ race + anchor_age + gender

             Df    AIC
- gender      1 204.20
&lt;none&gt;          205.59
- race        3 206.86
- anchor_age  1 207.20


Step:  AIC=204.2
Surv(survival_days, patients_death) ~ race + anchor_age

             Df    AIC
&lt;none&gt;          204.20
- anchor_age  1 205.81
- race        3 208.73</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(best_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Call:
coxph(formula = Surv(survival_days, patients_death) ~ race + 
    anchor_age, data = patients_mod1)

  n= 100, number of events= 31 

                 coef  exp(coef)   se(coef)      z Pr(&gt;|z|)  
raceLATINO -1.819e+01  1.265e-08  6.079e+03 -0.003   0.9976  
raceOTHER   1.376e+00  3.959e+00  6.784e-01  2.028   0.0425 *
raceWHITE   5.623e-01  1.755e+00  5.496e-01  1.023   0.3062  
anchor_age  2.648e-02  1.027e+00  1.416e-02  1.870   0.0615 .
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

           exp(coef) exp(-coef) lower .95 upper .95
raceLATINO 1.265e-08  7.908e+07    0.0000       Inf
raceOTHER  3.959e+00  2.526e-01    1.0475    14.963
raceWHITE  1.755e+00  5.699e-01    0.5976     5.152
anchor_age 1.027e+00  9.739e-01    0.9987     1.056

Concordance= 0.716  (se = 0.048 )
Likelihood ratio test= 14.25  on 4 df,   p=0.007
Wald test            = 10  on 4 df,   p=0.04
Score (logrank) test = 13.76  on 4 df,   p=0.008</code></pre>
<p>The selected model retains race and anchor_age as predictors. The MASS namespace is accessed explicitly to call stepAIC. Assessment of proportional hazards assumption</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cox.zph</span>(best_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>           chisq df    p
race       0.258  3 0.97
anchor_age 0.558  1 0.45
GLOBAL     0.755  4 0.94</code></pre>
<p>Null hypothesis (H0): the proportional hazards assumption holds. Por lo que si el p-value es menor que 0.05 se rechaza la Ho.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">cox.zph</span>(best_model))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-73-1.png" class="img-fluid"></p>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-73-2.png" class="img-fluid"></p>
<p>ADMISSIONS—- A similar analysis can be conducted at the admissions level.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>admissions_modified <span class="ot">&lt;-</span> <span class="fu">mutate</span>(admissions, <span class="at">death =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(deathtime), <span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>admissions_modified <span class="ot">&lt;-</span> <span class="fu">mutate</span>(admissions_modified, <span class="at">survival_days =</span> <span class="fu">as.numeric</span>(dischtime <span class="sc">-</span> admittime) <span class="sc">/</span> <span class="dv">24</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Kaplan–Meier curves</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>km_fit2 <span class="ot">&lt;-</span> <span class="fu">survfit</span>(<span class="fu">Surv</span>(survival_days, death)<span class="sc">~</span><span class="dv">1</span>, <span class="at">data=</span>admissions_modified)</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsurvplot</span>(km_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-75-1.png" class="img-fluid"></p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>km_fit3 <span class="ot">&lt;-</span> <span class="fu">survfit</span>(<span class="fu">Surv</span>(survival_days, death)<span class="sc">~</span> race, <span class="at">data=</span>admissions_modified)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsurvplot</span>(km_fit3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-75-2.png" class="img-fluid"></p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>km_fit4 <span class="ot">&lt;-</span> <span class="fu">survfit</span>(<span class="fu">Surv</span>(survival_days, death)<span class="sc">~</span> insurance, <span class="at">data=</span>admissions_modified)</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsurvplot</span>(km_fit4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-75-3.png" class="img-fluid"></p>
<p>Cox models applied to admissions’ dataset</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>cox_fit2 <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(survival_days,death)<span class="sc">~</span><span class="dv">1</span>, <span class="at">data=</span>admissions_modified)</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cox_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Call:  coxph(formula = Surv(survival_days, death) ~ 1, data = admissions_modified)

Null model
  log likelihood= -60.20236 
  n= 275 </code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>cox_fit3 <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(survival_days, death)<span class="sc">~</span> race, <span class="at">data=</span>admissions_modified)</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cox_fit3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Call:
coxph(formula = Surv(survival_days, death) ~ race, data = admissions_modified)

  n= 275, number of events= 15 

                                         coef  exp(coef)   se(coef)      z
raceBLACK/CAPE VERDEAN             -1.732e+01  3.006e-08  3.126e+04 -0.001
raceHISPANIC OR LATINO             -1.727e+01  3.163e-08  1.006e+05  0.000
raceHISPANIC/LATINO - CUBAN        -1.730e+01  3.068e-08  2.177e+04 -0.001
raceHISPANIC/LATINO - PUERTO RICAN -1.732e+01  3.020e-08  4.597e+04  0.000
raceHISPANIC/LATINO - SALVADORAN   -1.731e+01  3.023e-08  2.913e+04 -0.001
raceOTHER                          -1.729e+01  3.110e-08  4.050e+04  0.000
racePATIENT DECLINED TO ANSWER      2.802e+00  1.648e+01  1.458e+00  1.922
racePORTUGUESE                     -1.715e+01  3.548e-08  1.433e+04 -0.001
raceUNABLE TO OBTAIN               -1.730e+01  3.063e-08  3.213e+04 -0.001
raceUNKNOWN                         2.295e+00  9.924e+00  1.156e+00  1.985
raceWHITE                           9.828e-01  2.672e+00  1.065e+00  0.923
raceWHITE - BRAZILIAN              -1.731e+01  3.030e-08  2.850e+04 -0.001
raceWHITE - OTHER EUROPEAN         -1.733e+01  2.989e-08  3.069e+04 -0.001
                                   Pr(&gt;|z|)  
raceBLACK/CAPE VERDEAN               0.9996  
raceHISPANIC OR LATINO               0.9999  
raceHISPANIC/LATINO - CUBAN          0.9994  
raceHISPANIC/LATINO - PUERTO RICAN   0.9997  
raceHISPANIC/LATINO - SALVADORAN     0.9995  
raceOTHER                            0.9997  
racePATIENT DECLINED TO ANSWER       0.0547 .
racePORTUGUESE                       0.9990  
raceUNABLE TO OBTAIN                 0.9996  
raceUNKNOWN                          0.0472 *
raceWHITE                            0.3561  
raceWHITE - BRAZILIAN                0.9995  
raceWHITE - OTHER EUROPEAN           0.9995  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

                                   exp(coef) exp(-coef) lower .95 upper .95
raceBLACK/CAPE VERDEAN             3.006e-08  3.327e+07    0.0000       Inf
raceHISPANIC OR LATINO             3.163e-08  3.162e+07    0.0000       Inf
raceHISPANIC/LATINO - CUBAN        3.068e-08  3.259e+07    0.0000       Inf
raceHISPANIC/LATINO - PUERTO RICAN 3.020e-08  3.311e+07    0.0000       Inf
raceHISPANIC/LATINO - SALVADORAN   3.023e-08  3.309e+07    0.0000       Inf
raceOTHER                          3.110e-08  3.216e+07    0.0000       Inf
racePATIENT DECLINED TO ANSWER     1.648e+01  6.069e-02    0.9455    287.17
racePORTUGUESE                     3.548e-08  2.819e+07    0.0000       Inf
raceUNABLE TO OBTAIN               3.063e-08  3.265e+07    0.0000       Inf
raceUNKNOWN                        9.924e+00  1.008e-01    1.0291     95.70
raceWHITE                          2.672e+00  3.743e-01    0.3313     21.55
raceWHITE - BRAZILIAN              3.030e-08  3.300e+07    0.0000       Inf
raceWHITE - OTHER EUROPEAN         2.989e-08  3.346e+07    0.0000       Inf

Concordance= 0.721  (se = 0.059 )
Likelihood ratio test= 9.81  on 13 df,   p=0.7
Wald test            = 7.79  on 13 df,   p=0.9
Score (logrank) test = 12.19  on 13 df,   p=0.5</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>cox_fit4 <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(survival_days, death)<span class="sc">~</span> insurance, <span class="at">data=</span>admissions_modified)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cox_fit4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Call:
coxph(formula = Surv(survival_days, death) ~ insurance, data = admissions_modified)

  n= 275, number of events= 15 

                     coef exp(coef) se(coef)      z Pr(&gt;|z|)  
insuranceMedicare -0.2368    0.7891   0.7917 -0.299   0.7648  
insuranceOther    -1.5486    0.2126   0.8768 -1.766   0.0774 .
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

                  exp(coef) exp(-coef) lower .95 upper .95
insuranceMedicare    0.7891      1.267   0.16721     3.724
insuranceOther       0.2126      4.705   0.03812     1.185

Concordance= 0.65  (se = 0.093 )
Likelihood ratio test= 6.24  on 2 df,   p=0.04
Wald test            = 5.43  on 2 df,   p=0.07
Score (logrank) test = 6.31  on 2 df,   p=0.04</code></pre>
<p>MACHINE LEARNING—- Apply supervised learning algorithms to predict patients_death Data preparation: convert response variable to factor, define positive class first Use 5-fold cross-validation for model training</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Data Preparation The response variable patients_death is converted into a factor required by the caret package. The positive class (“YES”) is defined first, ensuring correct ROC/AUC computation. Labels are renamed to avoid numeric class names.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>patients_ml <span class="ot">&lt;-</span> <span class="fu">mutate</span>(patients_mod1, <span class="at">patients_death =</span> <span class="fu">factor</span>(patients_death, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"YES"</span>, <span class="st">"NO"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Cross-Validation Setup</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>control <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">"cv"</span>, <span class="at">number =</span> <span class="dv">5</span>, <span class="at">classProbs =</span> <span class="cn">TRUE</span>, <span class="at">summaryFunction =</span> twoClassSummary, </span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="at">savePredictions =</span> <span class="st">"final"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Logistic Regression Logistic Regression Random Forest: tune mtry parameter, evaluate variable importance XGBoost: gradient boosting classifier, evaluate variable importance Arrange XGBoost results by ROC to find best hyperparameters</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">5</span>)</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>reg_log <span class="ot">&lt;-</span> <span class="fu">train</span>(patients_death <span class="sc">~</span> race <span class="sc">+</span> anchor_age <span class="sc">+</span> gender <span class="sc">+</span> insurance, <span class="at">data =</span> patients_ml, </span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="at">method=</span> <span class="st">"glm"</span>, <span class="at">family =</span> binomial, <span class="at">trControl =</span> control, <span class="at">metric =</span> <span class="st">"ROC"</span>) </span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>reg_log <span class="co">#' el resultado no es bueno, no es mejor que un modelo aleatorio.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Generalized Linear Model 

100 samples
  4 predictor
  2 classes: 'YES', 'NO' 

No pre-processing
Resampling: Cross-Validated (5 fold) 
Summary of sample sizes: 80, 80, 80, 80, 80 
Resampling results:

  ROC        Sens       Spec    
  0.5199634  0.2666667  0.810989</code></pre>
<p>1 no se usan predictores . se usan todas las columnas del dataset como predictores . - predictor a incluir</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg_log)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Call:
NULL

Coefficients:
                    Estimate Std. Error z value Pr(&gt;|z|)  
(Intercept)          1.63789    1.28810   1.272   0.2035  
raceLATINO          17.48538 1711.86874   0.010   0.9919  
raceOTHER            0.56772    0.91157   0.623   0.5334  
raceWHITE            0.26668    0.80780   0.330   0.7413  
anchor_age          -0.03033    0.01680  -1.805   0.0711 .
genderM             -0.38942    0.50441  -0.772   0.4401  
insuranceMedicare    0.84099    0.86786   0.969   0.3325  
insuranceOther       1.20154    0.85518   1.405   0.1600  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 123.82  on 99  degrees of freedom
Residual deviance: 111.70  on 92  degrees of freedom
AIC: 127.7

Number of Fisher Scoring iterations: 16</code></pre>
<p>Random Forest</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">5</span>)</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>rf <span class="ot">&lt;-</span> <span class="fu">train</span>(patients_death <span class="sc">~</span> race <span class="sc">+</span> anchor_age <span class="sc">+</span> gender <span class="sc">+</span> insurance, <span class="at">data =</span> patients_ml, </span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a><span class="at">method=</span> <span class="st">"rf"</span>, <span class="at">trControl =</span> control, <span class="at">metric =</span> <span class="st">"ROC"</span>, <span class="at">tuneGrid =</span> <span class="fu">expand.grid</span>(<span class="at">mtry=</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">7</span>)) </span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>rf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Random Forest 

100 samples
  4 predictor
  2 classes: 'YES', 'NO' 

No pre-processing
Resampling: Cross-Validated (5 fold) 
Summary of sample sizes: 80, 80, 80, 80, 80 
Resampling results across tuning parameters:

  mtry  ROC        Sens        Spec     
  2     0.4889194  0.03333333  0.8692308
  3     0.4837912  0.06666667  0.7978022
  4     0.4795788  0.12857143  0.7120879
  5     0.4714286  0.25714286  0.6395604
  6     0.4817766  0.25714286  0.6395604
  7     0.4871795  0.22380952  0.6538462

ROC was used to select the optimal model using the largest value.
The final value used for the model was mtry = 2.</code></pre>
<p>Variable Importance</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>importance_rf <span class="ot">&lt;-</span> <span class="fu">varImp</span>(rf)</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(importance_rf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-83-1.png" class="img-fluid"></p>
<p>Extreme Gradient Boosting (XGBoost)</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">5</span>)</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>xgb <span class="ot">&lt;-</span> <span class="fu">train</span>(patients_death <span class="sc">~</span> race <span class="sc">+</span> anchor_age <span class="sc">+</span> gender <span class="sc">+</span> insurance, <span class="at">data =</span> patients_ml, </span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a><span class="at">method=</span> <span class="st">"xgbTree"</span>, <span class="at">trControl =</span> control, <span class="at">metric =</span> <span class="st">"ROC"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>[21:35:40] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:40] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:41] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:42] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
[21:35:43] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>xgb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>eXtreme Gradient Boosting 

100 samples
  4 predictor
  2 classes: 'YES', 'NO' 

No pre-processing
Resampling: Cross-Validated (5 fold) 
Summary of sample sizes: 80, 80, 80, 80, 80 
Resampling results across tuning parameters:

  eta  max_depth  colsample_bytree  subsample  nrounds  ROC        Sens      
  0.3  1          0.6               0.50        50      0.5053114  0.10000000
  0.3  1          0.6               0.50       100      0.4913919  0.16666667
  0.3  1          0.6               0.50       150      0.4247253  0.12380952
  0.3  1          0.6               0.75        50      0.5121795  0.16190476
  0.3  1          0.6               0.75       100      0.5124542  0.26190476
  0.3  1          0.6               0.75       150      0.4870879  0.25714286
  0.3  1          0.6               1.00        50      0.5352564  0.13333333
  0.3  1          0.6               1.00       100      0.5282967  0.19523810
  0.3  1          0.6               1.00       150      0.5127289  0.23333333
  0.3  1          0.8               0.50        50      0.4934982  0.16190476
  0.3  1          0.8               0.50       100      0.5257326  0.12857143
  0.3  1          0.8               0.50       150      0.4909341  0.32380952
  0.3  1          0.8               0.75        50      0.4772894  0.03333333
  0.3  1          0.8               0.75       100      0.4622711  0.22857143
  0.3  1          0.8               0.75       150      0.4617216  0.23333333
  0.3  1          0.8               1.00        50      0.5288462  0.16666667
  0.3  1          0.8               1.00       100      0.5398352  0.26190476
  0.3  1          0.8               1.00       150      0.5103480  0.23333333
  0.3  2          0.6               0.50        50      0.5317766  0.32380952
  0.3  2          0.6               0.50       100      0.5475275  0.29523810
  0.3  2          0.6               0.50       150      0.4856227  0.22857143
  0.3  2          0.6               0.75        50      0.4992674  0.26190476
  0.3  2          0.6               0.75       100      0.4824176  0.29523810
  0.3  2          0.6               0.75       150      0.4925824  0.25714286
  0.3  2          0.6               1.00        50      0.5000000  0.32857143
  0.3  2          0.6               1.00       100      0.4926740  0.32857143
  0.3  2          0.6               1.00       150      0.4994505  0.29523810
  0.3  2          0.8               0.50        50      0.5257326  0.22380952
  0.3  2          0.8               0.50       100      0.4804945  0.22857143
  0.3  2          0.8               0.50       150      0.4543040  0.19047619
  0.3  2          0.8               0.75        50      0.4808608  0.19523810
  0.3  2          0.8               0.75       100      0.5030220  0.29047619
  0.3  2          0.8               0.75       150      0.5006410  0.25714286
  0.3  2          0.8               1.00        50      0.4864469  0.26190476
  0.3  2          0.8               1.00       100      0.4807692  0.36190476
  0.3  2          0.8               1.00       150      0.4880952  0.26190476
  0.3  3          0.6               0.50        50      0.5262821  0.22380952
  0.3  3          0.6               0.50       100      0.4885531  0.19523810
  0.3  3          0.6               0.50       150      0.5065018  0.22857143
  0.3  3          0.6               0.75        50      0.5319597  0.32857143
  0.3  3          0.6               0.75       100      0.5268315  0.32380952
  0.3  3          0.6               0.75       150      0.5195055  0.32380952
  0.3  3          0.6               1.00        50      0.4919414  0.26190476
  0.3  3          0.6               1.00       100      0.4985348  0.29047619
  0.3  3          0.6               1.00       150      0.4987179  0.32380952
  0.3  3          0.8               0.50        50      0.5470696  0.32857143
  0.3  3          0.8               0.50       100      0.5207875  0.26190476
  0.3  3          0.8               0.50       150      0.4841575  0.22857143
  0.3  3          0.8               0.75        50      0.4996337  0.25714286
  0.3  3          0.8               0.75       100      0.5087912  0.29047619
  0.3  3          0.8               0.75       150      0.4879121  0.29047619
  0.3  3          0.8               1.00        50      0.4849817  0.22380952
  0.3  3          0.8               1.00       100      0.4967033  0.32380952
  0.3  3          0.8               1.00       150      0.4895604  0.32380952
  0.4  1          0.6               0.50        50      0.4840659  0.16666667
  0.4  1          0.6               0.50       100      0.4803114  0.16666667
  0.4  1          0.6               0.50       150      0.4354396  0.32380952
  0.4  1          0.6               0.75        50      0.5065018  0.10000000
  0.4  1          0.6               0.75       100      0.4722527  0.29047619
  0.4  1          0.6               0.75       150      0.4991758  0.29047619
  0.4  1          0.6               1.00        50      0.5288462  0.19523810
  0.4  1          0.6               1.00       100      0.5220696  0.22857143
  0.4  1          0.6               1.00       150      0.5043040  0.20000000
  0.4  1          0.8               0.50        50      0.4575092  0.19523810
  0.4  1          0.8               0.50       100      0.5119048  0.23333333
  0.4  1          0.8               0.50       150      0.4910256  0.32380952
  0.4  1          0.8               0.75        50      0.5010989  0.23333333
  0.4  1          0.8               0.75       100      0.4799451  0.26666667
  0.4  1          0.8               0.75       150      0.4687729  0.32380952
  0.4  1          0.8               1.00        50      0.5405678  0.26190476
  0.4  1          0.8               1.00       100      0.5173077  0.23333333
  0.4  1          0.8               1.00       150      0.4757326  0.20000000
  0.4  2          0.6               0.50        50      0.5283883  0.19523810
  0.4  2          0.6               0.50       100      0.4886447  0.22857143
  0.4  2          0.6               0.50       150      0.4804029  0.29047619
  0.4  2          0.6               0.75        50      0.5177656  0.29523810
  0.4  2          0.6               0.75       100      0.4994505  0.29047619
  0.4  2          0.6               0.75       150      0.4867216  0.25714286
  0.4  2          0.6               1.00        50      0.4974359  0.32857143
  0.4  2          0.6               1.00       100      0.4972527  0.29523810
  0.4  2          0.6               1.00       150      0.4950549  0.29523810
  0.4  2          0.8               0.50        50      0.4986264  0.29047619
  0.4  2          0.8               0.50       100      0.4700549  0.29047619
  0.4  2          0.8               0.50       150      0.4928571  0.25714286
  0.4  2          0.8               0.75        50      0.4996337  0.29523810
  0.4  2          0.8               0.75       100      0.5106227  0.22380952
  0.4  2          0.8               0.75       150      0.4876374  0.25714286
  0.4  2          0.8               1.00        50      0.5042125  0.29523810
  0.4  2          0.8               1.00       100      0.4972527  0.29523810
  0.4  2          0.8               1.00       150      0.5018315  0.25714286
  0.4  3          0.6               0.50        50      0.5463370  0.19523810
  0.4  3          0.6               0.50       100      0.4771062  0.19523810
  0.4  3          0.6               0.50       150      0.4703297  0.22380952
  0.4  3          0.6               0.75        50      0.5136447  0.26190476
  0.4  3          0.6               0.75       100      0.4896520  0.25714286
  0.4  3          0.6               0.75       150      0.4956960  0.29047619
  0.4  3          0.6               1.00        50      0.5130037  0.25714286
  0.4  3          0.6               1.00       100      0.5294872  0.29047619
  0.4  3          0.6               1.00       150      0.5152015  0.29047619
  0.4  3          0.8               0.50        50      0.4583333  0.26190476
  0.4  3          0.8               0.50       100      0.4878205  0.22857143
  0.4  3          0.8               0.50       150      0.4630952  0.32380952
  0.4  3          0.8               0.75        50      0.4932234  0.25714286
  0.4  3          0.8               0.75       100      0.4717033  0.25714286
  0.4  3          0.8               0.75       150      0.4839744  0.29047619
  0.4  3          0.8               1.00        50      0.4890110  0.29047619
  0.4  3          0.8               1.00       100      0.5086081  0.29047619
  0.4  3          0.8               1.00       150      0.4996337  0.29047619
  Spec     
  0.8549451
  0.7395604
  0.7384615
  0.7527473
  0.7098901
  0.6945055
  0.8692308
  0.7527473
  0.7252747
  0.8384615
  0.7241758
  0.7098901
  0.8252747
  0.6670330
  0.6395604
  0.8406593
  0.7098901
  0.6967033
  0.7538462
  0.7538462
  0.7087912
  0.7252747
  0.6670330
  0.6527473
  0.6670330
  0.6670330
  0.6670330
  0.7384615
  0.6824176
  0.6967033
  0.7098901
  0.6945055
  0.6813187
  0.6527473
  0.6241758
  0.6230769
  0.7252747
  0.6670330
  0.7109890
  0.7098901
  0.7098901
  0.7098901
  0.6670330
  0.6813187
  0.6670330
  0.7109890
  0.7395604
  0.7824176
  0.6670330
  0.7241758
  0.6813187
  0.6813187
  0.6956044
  0.6670330
  0.8395604
  0.7109890
  0.6802198
  0.7824176
  0.6813187
  0.6824176
  0.7956044
  0.7098901
  0.6967033
  0.7395604
  0.6956044
  0.6956044
  0.7109890
  0.6813187
  0.6945055
  0.7527473
  0.6967033
  0.6813187
  0.7681319
  0.6956044
  0.6659341
  0.7395604
  0.6802198
  0.6670330
  0.6956044
  0.6659341
  0.6824176
  0.7406593
  0.6956044
  0.7241758
  0.6802198
  0.7098901
  0.6945055
  0.6527473
  0.6373626
  0.6824176
  0.7384615
  0.7241758
  0.6516484
  0.7538462
  0.6967033
  0.7098901
  0.6824176
  0.7098901
  0.7098901
  0.6527473
  0.7087912
  0.6505495
  0.7241758
  0.6813187
  0.7098901
  0.6956044
  0.6956044
  0.6670330

Tuning parameter 'gamma' was held constant at a value of 0
Tuning
 parameter 'min_child_weight' was held constant at a value of 1
ROC was used to select the optimal model using the largest value.
The final values used for the model were nrounds = 100, max_depth = 2, eta
 = 0.3, gamma = 0, colsample_bytree = 0.6, min_child_weight = 1 and subsample
 = 0.5.</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(xgb<span class="sc">$</span>results,<span class="fu">desc</span>(ROC))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>    eta max_depth gamma colsample_bytree min_child_weight subsample nrounds
1   0.3         2     0              0.6                1      0.50     100
2   0.3         3     0              0.8                1      0.50      50
3   0.4         3     0              0.6                1      0.50      50
4   0.4         1     0              0.8                1      1.00      50
5   0.3         1     0              0.8                1      1.00     100
6   0.3         1     0              0.6                1      1.00      50
7   0.3         3     0              0.6                1      0.75      50
8   0.3         2     0              0.6                1      0.50      50
9   0.4         3     0              0.6                1      1.00     100
10  0.3         1     0              0.8                1      1.00      50
11  0.4         1     0              0.6                1      1.00      50
12  0.4         2     0              0.6                1      0.50      50
13  0.3         1     0              0.6                1      1.00     100
14  0.3         3     0              0.6                1      0.75     100
15  0.3         3     0              0.6                1      0.50      50
16  0.3         1     0              0.8                1      0.50     100
17  0.3         2     0              0.8                1      0.50      50
18  0.4         1     0              0.6                1      1.00     100
19  0.3         3     0              0.8                1      0.50     100
20  0.3         3     0              0.6                1      0.75     150
21  0.4         2     0              0.6                1      0.75      50
22  0.4         1     0              0.8                1      1.00     100
23  0.4         3     0              0.6                1      1.00     150
24  0.4         3     0              0.6                1      0.75      50
25  0.4         3     0              0.6                1      1.00      50
26  0.3         1     0              0.6                1      1.00     150
27  0.3         1     0              0.6                1      0.75     100
28  0.3         1     0              0.6                1      0.75      50
29  0.4         1     0              0.8                1      0.50     100
30  0.4         2     0              0.8                1      0.75     100
31  0.3         1     0              0.8                1      1.00     150
32  0.3         3     0              0.8                1      0.75     100
33  0.4         3     0              0.8                1      1.00     100
34  0.4         1     0              0.6                1      0.75      50
35  0.3         3     0              0.6                1      0.50     150
36  0.3         1     0              0.6                1      0.50      50
37  0.4         1     0              0.6                1      1.00     150
38  0.4         2     0              0.8                1      1.00      50
39  0.3         2     0              0.8                1      0.75     100
40  0.4         2     0              0.8                1      1.00     150
41  0.4         1     0              0.8                1      0.75      50
42  0.3         2     0              0.8                1      0.75     150
43  0.3         2     0              0.6                1      1.00      50
44  0.4         2     0              0.8                1      0.75      50
45  0.3         3     0              0.8                1      0.75      50
46  0.4         3     0              0.8                1      1.00     150
47  0.4         2     0              0.6                1      0.75     100
48  0.3         2     0              0.6                1      1.00     150
49  0.3         2     0              0.6                1      0.75      50
50  0.4         1     0              0.6                1      0.75     150
51  0.3         3     0              0.6                1      1.00     150
52  0.4         2     0              0.8                1      0.50      50
53  0.3         3     0              0.6                1      1.00     100
54  0.4         2     0              0.6                1      1.00      50
55  0.4         2     0              0.8                1      1.00     100
56  0.4         2     0              0.6                1      1.00     100
57  0.3         3     0              0.8                1      1.00     100
58  0.4         3     0              0.6                1      0.75     150
59  0.4         2     0              0.6                1      1.00     150
60  0.3         1     0              0.8                1      0.50      50
61  0.4         3     0              0.8                1      0.75      50
62  0.4         2     0              0.8                1      0.50     150
63  0.3         2     0              0.6                1      1.00     100
64  0.3         2     0              0.6                1      0.75     150
65  0.3         3     0              0.6                1      1.00      50
66  0.3         1     0              0.6                1      0.50     100
67  0.4         1     0              0.8                1      0.50     150
68  0.3         1     0              0.8                1      0.50     150
69  0.4         3     0              0.6                1      0.75     100
70  0.3         3     0              0.8                1      1.00     150
71  0.4         3     0              0.8                1      1.00      50
72  0.4         2     0              0.6                1      0.50     100
73  0.3         3     0              0.6                1      0.50     100
74  0.3         2     0              0.8                1      1.00     150
75  0.3         3     0              0.8                1      0.75     150
76  0.4         3     0              0.8                1      0.50     100
77  0.4         2     0              0.8                1      0.75     150
78  0.3         1     0              0.6                1      0.75     150
79  0.4         2     0              0.6                1      0.75     150
80  0.3         2     0              0.8                1      1.00      50
81  0.3         2     0              0.6                1      0.50     150
82  0.3         3     0              0.8                1      1.00      50
83  0.3         3     0              0.8                1      0.50     150
84  0.4         1     0              0.6                1      0.50      50
85  0.4         3     0              0.8                1      0.75     150
86  0.3         2     0              0.6                1      0.75     100
87  0.3         2     0              0.8                1      0.75      50
88  0.3         2     0              0.8                1      1.00     100
89  0.3         2     0              0.8                1      0.50     100
90  0.4         2     0              0.6                1      0.50     150
91  0.4         1     0              0.6                1      0.50     100
92  0.4         1     0              0.8                1      0.75     100
93  0.3         1     0              0.8                1      0.75      50
94  0.4         3     0              0.6                1      0.50     100
95  0.4         1     0              0.8                1      1.00     150
96  0.4         1     0              0.6                1      0.75     100
97  0.4         3     0              0.8                1      0.75     100
98  0.4         3     0              0.6                1      0.50     150
99  0.4         2     0              0.8                1      0.50     100
100 0.4         1     0              0.8                1      0.75     150
101 0.4         3     0              0.8                1      0.50     150
102 0.3         1     0              0.8                1      0.75     100
103 0.3         1     0              0.8                1      0.75     150
104 0.4         3     0              0.8                1      0.50      50
105 0.4         1     0              0.8                1      0.50      50
106 0.3         2     0              0.8                1      0.50     150
107 0.4         1     0              0.6                1      0.50     150
108 0.3         1     0              0.6                1      0.50     150
          ROC       Sens      Spec      ROCSD     SensSD     SpecSD
1   0.5475275 0.29523810 0.7538462 0.12797369 0.25062281 0.12905657
2   0.5470696 0.32857143 0.7109890 0.12263987 0.26747327 0.20696133
3   0.5463370 0.19523810 0.7384615 0.13461126 0.27479120 0.14949700
4   0.5405678 0.26190476 0.7527473 0.11587126 0.25532870 0.08485409
5   0.5398352 0.26190476 0.7098901 0.10065244 0.25532870 0.07210165
6   0.5352564 0.13333333 0.8692308 0.10031653 0.13944334 0.06061413
7   0.5319597 0.32857143 0.7098901 0.12737434 0.20919888 0.05145510
8   0.5317766 0.32380952 0.7538462 0.14770143 0.23666236 0.12905657
9   0.5294872 0.29047619 0.7098901 0.09328846 0.07221786 0.05145510
10  0.5288462 0.16666667 0.8406593 0.11126750 0.16666667 0.03108162
11  0.5288462 0.19523810 0.7956044 0.12392194 0.14126092 0.06789662
12  0.5283883 0.19523810 0.7681319 0.05644418 0.18396613 0.13716469
13  0.5282967 0.19523810 0.7527473 0.09876343 0.14126092 0.08485409
14  0.5268315 0.32380952 0.7098901 0.10648907 0.11975977 0.08803220
15  0.5262821 0.22380952 0.7252747 0.10286292 0.14245976 0.07553696
16  0.5257326 0.12857143 0.7241758 0.13142796 0.13842326 0.09448313
17  0.5257326 0.22380952 0.7384615 0.11160070 0.14245976 0.11020559
18  0.5220696 0.22857143 0.7098901 0.12644759 0.19240099 0.07210165
19  0.5207875 0.26190476 0.7395604 0.10269770 0.25532870 0.12859960
20  0.5195055 0.32380952 0.7098901 0.11085580 0.11975977 0.08803220
21  0.5177656 0.29523810 0.7395604 0.05908758 0.14541363 0.09425920
22  0.5173077 0.23333333 0.6967033 0.11070289 0.27888668 0.12519759
23  0.5152015 0.29047619 0.7098901 0.08077473 0.07221786 0.05145510
24  0.5136447 0.26190476 0.7538462 0.09323608 0.25532870 0.12905657
25  0.5130037 0.25714286 0.6824176 0.10270382 0.08485014 0.07656904
26  0.5127289 0.23333333 0.7252747 0.11704178 0.27888668 0.11558068
27  0.5124542 0.26190476 0.7098901 0.06895428 0.25532870 0.12410773
28  0.5121795 0.16190476 0.7527473 0.12966755 0.11833118 0.09874836
29  0.5119048 0.23333333 0.6956044 0.11694573 0.27888668 0.05925411
30  0.5106227 0.22380952 0.7098901 0.07685109 0.14245976 0.08803220
31  0.5103480 0.23333333 0.6967033 0.11144993 0.27888668 0.12519759
32  0.5087912 0.29047619 0.7241758 0.07813078 0.07221786 0.06184676
33  0.5086081 0.29047619 0.6956044 0.08006303 0.07221786 0.07785929
34  0.5065018 0.10000000 0.7824176 0.07420860 0.14907120 0.11317881
35  0.5065018 0.22857143 0.7109890 0.02412530 0.09612681 0.04490729
36  0.5053114 0.10000000 0.8549451 0.13295335 0.14907120 0.13372096
37  0.5043040 0.20000000 0.6967033 0.14711475 0.21730675 0.12519759
38  0.5042125 0.29523810 0.6527473 0.09516014 0.22118522 0.11508333
39  0.5030220 0.29047619 0.6945055 0.07602636 0.13821834 0.15784635
40  0.5018315 0.25714286 0.6824176 0.08810504 0.08485014 0.10471322
41  0.5010989 0.23333333 0.7109890 0.11209330 0.27888668 0.08437242
42  0.5006410 0.25714286 0.6813187 0.07153826 0.08485014 0.10731882
43  0.5000000 0.32857143 0.6670330 0.10206207 0.20919888 0.06088745
44  0.4996337 0.29523810 0.6802198 0.09469635 0.22118522 0.08586209
45  0.4996337 0.25714286 0.6670330 0.10431042 0.14521858 0.06088745
46  0.4996337 0.29047619 0.6670330 0.10431042 0.07221786 0.13788910
47  0.4994505 0.29047619 0.6802198 0.08792544 0.07221786 0.06943542
48  0.4994505 0.29523810 0.6670330 0.09148026 0.22118522 0.10658491
49  0.4992674 0.26190476 0.7252747 0.09392676 0.15338213 0.14495501
50  0.4991758 0.29047619 0.6824176 0.08901433 0.24651770 0.10471322
51  0.4987179 0.32380952 0.6670330 0.08576730 0.11975977 0.09385799
52  0.4986264 0.29047619 0.7406593 0.12611207 0.13821834 0.12740857
53  0.4985348 0.29047619 0.6813187 0.08527210 0.13821834 0.06216323
54  0.4974359 0.32857143 0.6956044 0.10454290 0.20919888 0.07785929
55  0.4972527 0.29523810 0.6373626 0.09408422 0.22118522 0.11360480
56  0.4972527 0.29523810 0.6659341 0.10098619 0.22118522 0.08471166
57  0.4967033 0.32380952 0.6956044 0.08463045 0.11975977 0.03098433
58  0.4956960 0.29047619 0.7098901 0.08346380 0.07221786 0.05145510
59  0.4950549 0.29523810 0.6824176 0.10151131 0.22118522 0.07656904
60  0.4934982 0.16190476 0.8384615 0.18014836 0.16700646 0.10091060
61  0.4932234 0.25714286 0.7241758 0.09867105 0.08485014 0.10713581
62  0.4928571 0.25714286 0.7241758 0.10407309 0.08485014 0.11844451
63  0.4926740 0.32857143 0.6670330 0.09043011 0.20919888 0.06088745
64  0.4925824 0.25714286 0.6527473 0.04478574 0.08485014 0.11508333
65  0.4919414 0.26190476 0.6670330 0.10718277 0.09816918 0.06088745
66  0.4913919 0.16666667 0.7395604 0.11720109 0.16666667 0.11826596
67  0.4910256 0.32380952 0.6956044 0.12375926 0.26438222 0.13717570
68  0.4909341 0.32380952 0.7098901 0.10753369 0.23666236 0.08803220
69  0.4896520 0.25714286 0.6967033 0.05978528 0.08485014 0.05403086
70  0.4895604 0.32380952 0.6670330 0.07889714 0.11975977 0.09385799
71  0.4890110 0.29047619 0.6956044 0.06968136 0.07221786 0.07785929
72  0.4886447 0.22857143 0.6956044 0.04821779 0.25455042 0.13717570
73  0.4885531 0.19523810 0.6670330 0.06538006 0.18396613 0.11794644
74  0.4880952 0.26190476 0.6230769 0.09597926 0.09816918 0.10573176
75  0.4879121 0.29047619 0.6813187 0.07931270 0.07221786 0.11861007
76  0.4878205 0.22857143 0.7087912 0.09246681 0.19240099 0.14676605
77  0.4876374 0.25714286 0.6945055 0.04353430 0.08485014 0.09802728
78  0.4870879 0.25714286 0.6945055 0.09751264 0.18702226 0.11027405
79  0.4867216 0.25714286 0.6670330 0.07475579 0.08485014 0.06088745
80  0.4864469 0.26190476 0.6527473 0.11751514 0.09816918 0.09023377
81  0.4856227 0.22857143 0.7087912 0.04967010 0.15208304 0.07895664
82  0.4849817 0.22380952 0.6813187 0.08565233 0.14245976 0.03623875
83  0.4841575 0.22857143 0.7824176 0.07885408 0.15208304 0.07180795
84  0.4840659 0.16666667 0.8395604 0.17167136 0.28867513 0.08153372
85  0.4839744 0.29047619 0.7098901 0.10002771 0.07221786 0.13399160
86  0.4824176 0.29523810 0.6670330 0.05881303 0.14541363 0.12830582
87  0.4808608 0.19523810 0.7098901 0.05922580 0.14126092 0.18237289
88  0.4807692 0.36190476 0.6241758 0.08347159 0.22297209 0.12442356
89  0.4804945 0.22857143 0.6824176 0.13574505 0.19240099 0.19098446
90  0.4804029 0.29047619 0.6659341 0.07649631 0.13821834 0.14994062
91  0.4803114 0.16666667 0.7109890 0.11788759 0.16666667 0.09833476
92  0.4799451 0.26666667 0.6813187 0.12932789 0.27888668 0.10731882
93  0.4772894 0.03333333 0.8252747 0.09297499 0.07453560 0.06700143
94  0.4771062 0.19523810 0.7241758 0.07858736 0.14126092 0.15567011
95  0.4757326 0.20000000 0.6813187 0.13319533 0.21730675 0.11861007
96  0.4722527 0.29047619 0.6813187 0.09999082 0.24651770 0.12891613
97  0.4717033 0.25714286 0.6813187 0.08554334 0.08485014 0.11861007
98  0.4703297 0.22380952 0.6516484 0.11343831 0.14245976 0.17882906
99  0.4700549 0.29047619 0.6956044 0.11577533 0.21652272 0.17768589
100 0.4687729 0.32380952 0.6945055 0.14676191 0.23666236 0.09802728
101 0.4630952 0.32380952 0.6505495 0.13471331 0.11975977 0.21451805
102 0.4622711 0.22857143 0.6670330 0.10232139 0.28050812 0.15529148
103 0.4617216 0.23333333 0.6395604 0.11007958 0.25276251 0.17899780
104 0.4583333 0.26190476 0.6527473 0.12111304 0.19342949 0.15312823
105 0.4575092 0.19523810 0.7395604 0.10878681 0.14126092 0.09425920
106 0.4543040 0.19047619 0.6967033 0.10940560 0.17496355 0.19655437
107 0.4354396 0.32380952 0.6802198 0.10817495 0.26438222 0.11168858
108 0.4247253 0.12380952 0.7384615 0.14275350 0.12302867 0.12122827</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>importance_xgb <span class="ot">&lt;-</span> <span class="fu">varImp</span>(xgb)</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(importance_xgb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="readme_files/figure-commonmark/unnamed-chunk-84-1.png" class="img-fluid"></p>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>